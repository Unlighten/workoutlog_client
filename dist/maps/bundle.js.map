{"version":3,"sources":["app.js","define.js","log.js","auth.js","workoutnow.js"],"names":["$","WorkoutLog","undefined","API_BASE","setAuthHeader","sessionToken","window","localStorage","setItem","ajaxSetup","headers","Authorization","jQuery","on","e","token","getItem","this","hasClass","preventDefault","target","attr","log","setDefinitions","setHistory","document","which","is","trigger","extend","definition","userDefinitions","create","postData","desc","val","type","ajax","url","data","JSON","stringify","contentType","done","push","tab","fetchAll","authorization","fail","err","console","workouts","opts","defs","len","length","i","id","description","children","remove","append","history","table","lis","def","result","text","getWorkout","thisLog","logID","updateData","updateWorkout","updateLog","splice","updateLogData","delete","deleteData","deleteLog","closest","delegate","signup","user","fname","lname","email","username","password","pic","modal","removeClass","addClass","show","login","fileReader","FileReader","onload","event","ab","binaryImg","ua","Uint8Array","String","fromCharCode","newImg","indexOf","test","Blob","readAsDataURL","loginout","removeItem","location","reload","startTimer","tens","appendTens","innerHTML","seconds","appendSeconds","minutes","appendMinutes","Interval","getElementById","stopbutStart","stopbutStop","stopbutReset","onclick","clearInterval","setInterval"],"mappings":"AAAAA,EAAA,WAEA,IAAAC,EAAA,SAAAD,EAAAE,GAkBA,OACAC,SAjBA,6BAkBAC,cAfA,SAAAC,GACAC,OAAAC,aAAAC,QAAA,eAAAH,GAIAL,EAAAS,WACAC,SACAC,cAAAN,OAZA,CAsBAO,QAGAZ,EAAA,gCAAAa,GAAA,QAAA,SAAAC,GACA,IAAAC,EAAAT,OAAAC,aAAAS,QAAA,gBACA,GAAAhB,EAAAiB,MAAAC,SAAA,cAAAH,EAEA,OADAD,EAAAK,kBACA,IAKAnB,EAAA,wBAAAa,GAAA,eAAA,SAAAC,GACA,IAAAM,EAAApB,EAAAc,EAAAM,QAAAC,KAAA,QACA,SAAAD,GACAnB,EAAAqB,IAAAC,iBAGA,gBAAAH,GACAnB,EAAAqB,IAAAC,iBAGA,aAAAH,GACAnB,EAAAqB,IAAAE,eAKAxB,EAAAyB,UAAAZ,GAAA,WAAA,SAAAC,GACA,KAAAA,EAAAY,QACA1B,EAAA,iBAAA2B,GAAA,aACA3B,EAAA,WAAA4B,QAAA,SAEA5B,EAAA,gBAAA2B,GAAA,aACA3B,EAAA,UAAA4B,QAAA,YAOA5B,EAAA,wBAAAa,GAAA,eAAA,SAAAC,GACA,IAAAM,EAAApB,EAAAc,EAAAM,QAAAC,KAAA,QACA,SAAAD,GACAnB,EAAAqB,IAAAC,iBAGA,aAAAH,GACAnB,EAAAqB,IAAAE,eAKAxB,EAAAyB,UAAAZ,GAAA,WAAA,SAAAC,GACA,KAAAA,EAAAY,QACA1B,EAAA,iBAAA2B,GAAA,aACA3B,EAAA,WAAA4B,QAAA,SAEA5B,EAAA,gBAAA2B,GAAA,aACA3B,EAAA,UAAA4B,QAAA,YAMA,IAAAb,EAAAT,OAAAC,aAAAS,QAAA,gBACAD,GACAd,EAAAG,cAAAW,GAIAT,OAAAL,WAAAA,IC/FAD,EAAA,WACAA,EAAA6B,OAAA5B,YACA6B,YACAC,mBAEAC,OAAA,WAEA,IAIAC,GAAAH,YAHAI,KAAAlC,EAAA,oBAAAmC,MACAC,KAAApC,EAAA,gBAAAmC,QAGAnC,EAAAqC,MAEAD,KAAA,OACAE,IAAArC,WAAAE,SAAA,aACAoC,KAAAC,KAAAC,UAAAR,GACAS,YAAA,qBAGAC,KAAA,SAAAJ,GACAtC,WAAA6B,WAAAC,gBAAAa,KAAAL,EAAAT,YACA9B,EAAA,oBAAAmC,IAAA,IACAnC,EAAA,YAAAmC,IAAA,IACAnC,EAAA,kBAAA6C,IAAA,WAKAC,SAAA,WACA9C,EAAAqC,MACAD,KAAA,MACAE,IAAArC,WAAAE,SAAA,aACAO,SACAqC,cAAAzC,OAAAC,aAAAS,QAAA,mBAGA2B,KAAA,SAAAJ,GACAtC,WAAA6B,WAAAC,gBAAAQ,IAEAS,KAAA,SAAAC,GACAC,QAAA5B,IAAA2B,SAOAjD,EAAA,aAAAa,GAAA,QAAAZ,WAAA6B,WAAAE,QAIA1B,OAAAC,aAAAS,QAAA,iBACAf,WAAA6B,WAAAgB,aCrDA9C,EAAA,WACAA,EAAA6B,OAAA5B,YACAqB,KACA6B,YAEA5B,eAAA,SAAAa,GAIA,IAAA,IADAgB,EAFAC,EAAApD,WAAA6B,WAAAC,gBACAuB,EAAAD,EAAAE,OAEAC,EAAA,EAAAA,EAAAF,EAAAE,IACAJ,GAAA,kBAAAC,EAAAG,GAAAC,GAAA,KAAAJ,EAAAG,GAAAE,YAAA,YAMA1D,EAAA,mBAAA2D,WAAAC,SACA5D,EAAA,mBAAA6D,OAAAT,GACApD,EAAA,sBAAA2D,WAAAC,SACA5D,EAAA,sBAAA6D,OAAAT,IAGA5B,WAAA,WACA,IAAAsC,EAAA7D,WAAAqB,IAAA6B,SACAD,QAAAa,MAAAD,GAGA,IAAA,IAFAR,EAAAQ,EAAAP,OACAS,EAAA,GACAR,EAAA,EAAAA,EAAAF,EAAAE,IACAQ,GAAA,+BAEAF,EAAAN,GAAAS,IAAA,MACAH,EAAAN,GAAAU,OAAA,wCAGAJ,EAAAN,GAAAC,GAAA,2DACAK,EAAAN,GAAAC,GAAA,0DAGAzD,EAAA,iBAAA2D,WAAAC,SACA5D,EAAA,iBAAA6D,OAAAG,IAEAhC,OAAA,WACA,IAKAC,GAAAX,KAJAY,KAAAlC,EAAA,oBAAAmC,MACA+B,OAAAlE,EAAA,eAAAmC,MACA8B,IAAAjE,EAAA,mCAAAmE,SAGAjB,QAAAa,MAAA9B,GACAjC,EAAAqC,MACAD,KAAA,OACAE,IAAArC,WAAAE,SAAA,MACAoC,KAAAC,KAAAC,UAAAR,GACAS,YAAA,qBAGAC,KAAA,SAAAJ,GACAW,QAAA5B,IAAAiB,GACAtC,WAAAqB,IAAA6B,SAAAP,KAAAL,GACAvC,EAAA,oBAAAmC,IAAA,IACAnC,EAAA,eAAAmC,IAAA,IACAnC,EAAA,sBAAA6C,IAAA,WAIAuB,WAAA,WACA,IAAAC,GAAAZ,GAAAzD,EAAAiB,MAAAI,KAAA,OACA6B,QAAA5B,IAAA+C,GACAC,MAAAD,EAAAZ,GACA,IAAAc,GAAAjD,IAAA+C,GACArE,EAAAqC,MACAD,KAAA,MACAE,IAAArC,WAAAE,SAAA,OAAAmE,MACA/B,KAAAC,KAAAC,UAAA8B,GACA7B,YAAA,qBAEAC,KAAA,SAAAJ,GAEAvC,EAAA,yBAAA6C,IAAA,QACA7C,EAAA,kBAAAmC,IAAAI,EAAA2B,QACAlE,EAAA,uBAAAmC,IAAAI,EAAAmB,aACA1D,EAAA,cAAAmC,IAAAI,EAAAkB,OAKAe,cAAA,WACAxE,EAAA,WAAAmE,KAAA,UAOA,IAAA,IANAM,GACAhB,GAAAzD,EAAA,cAAAmC,MACAD,KAAAlC,EAAA,uBAAAmC,MACA+B,OAAAlE,EAAA,kBAAAmC,MACA8B,IAAAjE,EAAA,sCAAAmE,QAEAX,EAAA,EAAAA,EAAAvD,WAAAqB,IAAA6B,SAAAI,OAAAC,IACAvD,WAAAqB,IAAA6B,SAAAK,GAAAC,IAAAgB,EAAAhB,IACAxD,WAAAqB,IAAA6B,SAAAuB,OAAAlB,EAAA,GAGAvD,WAAAqB,IAAA6B,SAAAP,KAAA6B,GACA,IAAAE,GAAArD,IAAAmD,GACAzE,EAAAqC,MACAD,KAAA,MACAE,IAAArC,WAAAE,SAAA,MACAoC,KAAAC,KAAAC,UAAAkC,GACAjC,YAAA,qBAGAC,KAAA,SAAAJ,GACAW,QAAA5B,IAAAiB,GACAvC,EAAA,uBAAAmC,IAAA,IACAnC,EAAA,kBAAAmC,IAAA,IACAnC,EAAA,sBAAA6C,IAAA,WAMA+B,OAAA,WACA,IAAAP,GAGAZ,GAAAzD,EAAAiB,MAAAI,KAAA,OAEAwD,GAAAvD,IAAA+C,GACAS,EAAA9E,EAAAqC,MACAD,KAAA,SACAE,IAAArC,WAAAE,SAAA,MACAoC,KAAAC,KAAAC,UAAAoC,GACAnC,YAAA,qBAKA1C,EAAAiB,MAAA8D,QAAA,MAAAnB,SAGA,IAAA,IAAAJ,EAAA,EAAAA,EAAAvD,WAAAqB,IAAA6B,SAAAI,OAAAC,IACAvD,WAAAqB,IAAA6B,SAAAK,GAAAC,IAAAY,EAAAZ,IACAxD,WAAAqB,IAAA6B,SAAAuB,OAAAlB,EAAA,GAGAsB,EAAA9B,KAAA,WACAE,QAAA5B,IAAA,kCAKAwB,SAAA,WACA9C,EAAAqC,MACAD,KAAA,MACAE,IAAArC,WAAAE,SAAA,MACAO,SACAqC,cAAAzC,OAAAC,aAAAS,QAAA,mBAGA2B,KAAA,SAAAJ,GACAtC,WAAAqB,IAAA6B,SAAAZ,IAEAS,KAAA,SAAAC,GACAC,QAAA5B,IAAA2B,SAMAjD,EAAA,aAAAa,GAAA,QAAAZ,WAAAqB,IAAAU,QACAhC,EAAA,iBAAAgF,SAAA,UAAA,QAAA/E,WAAAqB,IAAAsD,QACA5E,EAAA,eAAAa,GAAA,QAAAZ,WAAAqB,IAAAkD,eACAxE,EAAA,iBAAAgF,SAAA,UAAA,QAAA/E,WAAAqB,IAAA8C,YAIA9D,OAAAC,aAAAS,QAAA,iBACAf,WAAAqB,IAAAwB,aC9KA9C,EAAA,WAEAA,EAAA6B,OAAA5B,YACAgF,OAAA,WACA,IAMAC,GAAAA,MAAAC,MANAnF,EAAA,aAAAmC,MAMAiD,MALApF,EAAA,aAAAmC,MAKAkD,MAJArF,EAAA,aAAAmC,MAIAmD,SAHAtF,EAAA,gBAAAmC,MAGAoD,SAFAvF,EAAA,gBAAAmC,MAEAqD,IADAxF,EAAA,WAAAmC,QAEAnC,EAAAqC,MACAD,KAAA,OACAE,IAAArC,WAAAE,SAAA,OACAoC,KAAAC,KAAAC,UAAAyC,GACAxC,YAAA,qBAEAC,KAAA,SAAAJ,GACAA,EAAAlC,eACAJ,WAAAG,cAAAmC,EAAAlC,cACAJ,WAAA6B,WAAAgB,WACA7C,WAAAqB,IAAAwB,YAEA9C,EAAA,iBAAAyF,MAAA,QACAzF,EAAA,YAAA0F,YAAA,aACA1F,EAAA,aAAAmE,KAAA,UACAnE,EAAA,iBAAAmE,KAAA,iBACAnE,EAAA,eAAA0F,YAAA,aACA1F,EAAA,qBAAA2F,SAAA,aACA3F,EAAA,iBAAA2F,SAAA,aACA3F,EAAA,eAAA2F,SAAA,aAEA3F,EAAA,mCAAA6C,IAAA,QAEA7C,EAAA,aAAAmC,IAAA,IACAnC,EAAA,aAAAmC,IAAA,IACAnC,EAAA,aAAAmC,IAAA,IACAnC,EAAA,gBAAAmC,IAAA,IACAnC,EAAA,gBAAAmC,IAAA,IACAnC,EAAA,WAAAmC,IAAA,MAEAa,KAAA,WACAhD,EAAA,aAAAmE,KAAA,yCAAAyB,UAKAC,MAAA,WAIA,IAEAX,GAAAA,MAAAI,SAFAtF,EAAA,gBAAAmC,MAEAoD,SADAvF,EAAA,gBAAAmC,QAEAnC,EAAAqC,MACAD,KAAA,OACAE,IAAArC,WAAAE,SAAA,QACAoC,KAAAC,KAAAC,UAAAyC,GACAxC,YAAA,qBAEAC,KAAA,SAAAJ,GACAA,EAAAlC,eACAJ,WAAAG,cAAAmC,EAAAlC,cACAJ,WAAA6B,WAAAgB,WACA7C,WAAAqB,IAAAwB,YAGA,IAAAgD,EAAA,IAAAC,WACAD,EAAAE,OAAA,SAAAC,GACA,IAAAC,EAAA3D,EAAA2C,KAAAM,IACAtC,QAAA5B,IAAA4E,GAIA,IAAA,IADAC,EAFAC,EAAA,IAAAC,WAAAH,EAAA3D,MAGAiB,EAAA,EAAAA,EAAA4C,EAAA7C,OAAAC,IACA2C,GAAAG,OAAAC,aAAAH,EAAA5C,IAGA,IAAA,IADAgD,EAAA,GACAhD,EAAA2C,EAAAM,QAAA,KAAAjD,EAAA2C,EAAA5C,OAAAC,IACAgD,GAAAL,EAAA3C,GAEA,IAAAkD,EAAA,IAAAC,MAAAH,IACApE,KAAA,cAEA0D,EAAAc,cAAAF,GAhBA,GA6BA1G,EAAA,gBAAAyF,MAAA,QACAzF,EAAA,YAAA0F,YAAA,aACA1F,EAAA,eAAAqB,KAAA,MAAAkB,EAAA2C,KAAAM,KAEAxF,EAAA,iBAAAmE,KAAA,iBACAnE,EAAA,eAAA0F,YAAA,aACA1F,EAAA,qBAAA2F,SAAA,aACA3F,EAAA,iBAAA2F,SAAA,aACA3F,EAAA,eAAA2F,SAAA,aAEA3F,EAAA,aAAAmE,KAAA,UAIAnE,EAAA,gBAAAmC,IAAA,IACAnC,EAAA,gBAAAmC,IAAA,IAGAnC,EAAA,yBAAA6C,IAAA,UAGAG,KAAA,WACAhD,EAAA,aAAAmE,KAAA,qDAAAyB,UAIAiB,SAAA,WACAvG,OAAAC,aAAAS,QAAA,kBACAV,OAAAC,aAAAuG,WAAA,gBACAxG,OAAAyG,SAAAC,QAAA,IAEAhH,EAAA,iBAAAmE,KAAA,2BACAnE,EAAA,qBAAA0F,YAAA,aACA1F,EAAA,iBAAA0F,YAAA,aACA1F,EAAA,eAAA0F,YAAA,aACA1F,EAAA,eAAA2F,SAAA,aACA3F,EAAA,YAAA2F,SAAA,gBAMA3F,EAAA,UAAAa,GAAA,QAAAZ,WAAA4F,OACA7F,EAAA,WAAAa,GAAA,QAAAZ,WAAAgF,QACAjF,EAAA,aAAAa,GAAA,QAAAZ,WAAA4G,UAEAvG,OAAAC,aAAAS,QAAA,iBACAhB,EAAA,aAAAmE,KAAA,YChJA7D,OAAA0F,OAAA,WAoCA,SAAAiB,MACAC,EAEA,IACAC,EAAAC,UAAA,IAAAF,GAGAA,EAAA,IACAC,EAAAC,UAAAF,GAIAA,EAAA,KACAhE,QAAA5B,IAAA,WACA+F,IACAC,EAAAF,UAAA,IAAAC,EACAH,EAAA,EACAC,EAAAC,UAAA,MAGAC,EAAA,IACAC,EAAAF,UAAAC,GAGA,IAAAA,IACAnE,QAAA5B,IAAA,WACAiG,IACAC,EAAAJ,UAAA,IAAAG,EACAF,EAAA,EACAC,EAAAF,UAAA,KA/DA,IASAK,EATAJ,EAAA,EACAH,EAAA,EACAK,EAAA,EACAJ,EAAA1F,SAAAiG,eAAA,QACAJ,EAAA7F,SAAAiG,eAAA,WACAF,EAAA/F,SAAAiG,eAAA,WACAC,EAAAlG,SAAAiG,eAAA,iBACAE,EAAAnG,SAAAiG,eAAA,gBACAG,EAAApG,SAAAiG,eAAA,iBAGAC,EAAAG,QAAA,WAEAC,cAAAN,GACAA,EAAAO,YAAAf,EAAA,KAGAW,EAAAE,QAAA,WACAC,cAAAN,IAIAI,EAAAC,QAAA,WACAC,cAAAN,GACAF,EAAA,KACAL,EAAA,KACAG,EAAA,KACAF,EAAAC,UAAAF,EACAI,EAAAF,UAAAC,EACAG,EAAAJ,UAAAG","file":"../bundle.js","sourcesContent":["$(function(){\r\n\r\nvar WorkoutLog = (function($, undefined) {\r\n      // var API_BASE =  \"https://alm-workoutlog-server.herokuapp.com/api/\";\r\n      var API_BASE = 'http://localhost:3000/api/'\r\n      var userDefinitions = [];\r\n\r\n      var setAuthHeader = function(sessionToken) {\r\n         window.localStorage.setItem(\"sessionToken\", sessionToken);\r\n         // Set the authorization header\r\n         // This can be done on individual calls\r\n         // here we showcase ajaxSetup as a global tool\r\n         $.ajaxSetup({\r\n            \"headers\": {\r\n               \"Authorization\": sessionToken\r\n            }\r\n         });\r\n      };\r\n\r\n      // public\r\n      return {\r\n         API_BASE: API_BASE,\r\n         setAuthHeader: setAuthHeader\r\n      };\r\n   })(jQuery);\r\n\r\n   // Ensure .disabled aren't clickable\r\n   $(\".nav-tabs a[data-toggle=tab]\").on(\"click\", function(e) {\r\n      var token = window.localStorage.getItem(\"sessionToken\");\r\n      if ($(this).hasClass(\"disabled\") && !token) {\r\n         e.preventDefault();\r\n         return false;\r\n      }\r\n   });\r\n\r\n   //bind tab change events\r\n   $('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\r\n      var target = $(e.target).attr(\"href\"); // activated tab\r\n      if (target === \"#log\") {\r\n         WorkoutLog.log.setDefinitions();\r\n      }\r\n\r\n      if (target === \"#update-log\") {\r\n        WorkoutLog.log.setDefinitions();\r\n      }\r\n\r\n      if (target === \"#history\") {\r\n         WorkoutLog.log.setHistory();\r\n      }\r\n   });\r\n\r\n   // bind enter key\r\n   $(document).on(\"keypress\", function(e) {\r\n      if (e.which === 13) { // enter key\r\n         if ($(\"#signup-modal\").is(\":visible\")) {\r\n            $(\"#signup\").trigger(\"click\");\r\n         }\r\n         if ($(\"#login-modal\").is(\":visible\")) {\r\n            $(\"#login\").trigger(\"click\");\r\n         }\r\n      }\r\n   });\r\n\r\n  //  bind tab change events\r\n  // bootstrap tab --> binding to a bootstrap event\r\n  $('a[data-toggle=\"tab\"]').on('shown.bs.tab', function (e) {\r\n     var target = $(e.target).attr(\"href\"); // activated tab\r\n     if (target === \"#log\") {\r\n        WorkoutLog.log.setDefinitions();\r\n     }\r\n\r\n     if (target === \"#history\") {\r\n        WorkoutLog.log.setHistory();\r\n     }\r\n  });\r\n\r\n  // bind enter key\r\n   $(document).on(\"keypress\", function(e) {\r\n      if (e.which === 13) { // enter key\r\n         if ($(\"#signup-modal\").is(\":visible\")) {\r\n            $(\"#signup\").trigger(\"click\");\r\n         }\r\n         if ($(\"#login-modal\").is(\":visible\")) {\r\n            $(\"#login\").trigger(\"click\");\r\n         }\r\n      }\r\n   });\r\n\r\n   // setHeader if we\r\n   var token = window.localStorage.getItem(\"sessionToken\");\r\n   if (token) {\r\n      WorkoutLog.setAuthHeader(token); \r\n   }\r\n\r\n   // expose this to the other workoutlog modules\r\n   window.WorkoutLog = WorkoutLog;\r\n});\r\n\r\n","$(function() {\r\n\t$.extend(WorkoutLog, {\r\n\t\tdefinition: {\r\n\t\t\tuserDefinitions: [],\r\n\r\n\t\t\tcreate: function() {\r\n\r\n\t\t\t\tvar def = { \r\n\t\t         \t\tdesc: $(\"#def-description\").val(),\r\n\t\t\t\t\t\ttype: $(\"#def-logtype\").val()\r\n\t\t\t\t};\r\n\t\t\t\tvar postData = { definition: def };\r\n\t\t      \tvar define = $.ajax({\r\n\r\n         \ttype: \"POST\",\r\n\t         \turl: WorkoutLog.API_BASE + \"definition\",\r\n\t         \tdata: JSON.stringify(postData),\r\n\t         \tcontentType: \"application/json\"\r\n\t\t      \t});\r\n\r\n\t\t      \tdefine.done(function(data) {\r\n\t      \t\t\tWorkoutLog.definition.userDefinitions.push(data.definition);\r\n\t\t      \t\t$(\"#def-description\").val(\"\");\r\n\t\t\t\t\t$(\"#def-log\").val(\"\");\r\n\t\t\t\t\t$('a[href=\"#log\"]').tab(\"show\");\r\n\r\n\t\t      \t});\r\n\t\t  },\r\n\r\n\t\t  fetchAll: function() {\r\n\t\t\t var fetchDefs = $.ajax({\r\n\t\t         type: \"GET\",\r\n\t\t         url: WorkoutLog.API_BASE + \"definition\",\r\n\t\t         headers: {\r\n\t\t         \t\"authorization\": window.localStorage.getItem(\"sessionToken\")\r\n\t\t         }\r\n\t\t      })\r\n\t\t      .done(function(data) {\r\n\t\t         WorkoutLog.definition.userDefinitions = data;\r\n\t\t      })\r\n\t\t      .fail(function(err) {\r\n\t\t         console.log(err);\r\n\t\t      });\r\n\t\t  }\r\n\t\t}\r\n\t});\r\n\r\n\t// bindings\r\n\t\t$(\"#def-save\").on(\"click\", WorkoutLog.definition.create);\r\n\r\n\r\n   // fetch definitions if we already are authenticated and refreshed\r\n    if (window.localStorage.getItem(\"sessionToken\")) {\r\n      WorkoutLog.definition.fetchAll();\r\n   }\r\n   \r\n});","$(function() {\r\n\t$.extend(WorkoutLog, {\r\n\t\tlog: {\r\n\t\t\tworkouts: [],\r\n\r\n\t\t\tsetDefinitions: function(type) {\r\n\t\t\t\tvar defs = WorkoutLog.definition.userDefinitions;\r\n\t\t\t\tvar len = defs.length;\r\n\t\t\t\tvar opts;\r\n\t\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\t\topts += \"<option value='\" + defs[i].id +\"'>\" + defs[i].description + \"</option>\";\r\n\t\t\t\t}\r\n\t\t\t\t// $(\"#\" + type + \"-definition\").children().remove();\r\n\t\t\t\t// $(\"#\" + type + \"-definition\").append(opts);\r\n\r\n\r\n\t\t\t\t$(\"#log-definition\").children().remove();\r\n\t\t\t\t$(\"#log-definition\").append(opts);\r\n\t\t\t\t$(\"#update-definition\").children().remove();\r\n\t\t\t\t$(\"#update-definition\").append(opts);\r\n\t\t\t},\r\n\r\n\t\t\tsetHistory: function() {\r\n\t\t\t\tvar history = WorkoutLog.log.workouts;\r\n\t\t\t\tconsole.table(history)\r\n\t\t\t\tvar len = history.length;\r\n\t\t\t\tvar lis = \"\";\r\n\t\t\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\t\tlis += \"<li class='list-group-item'>\" + \r\n\t\t\t\t\t// history[i].id + \" - \" + \r\n\t\t\t\t\thistory[i].def + \" - \" + \r\n\t\t\t\t\thistory[i].result + \" \" +\r\n\t\t\t\t\t// pass the log.id into the button's id attribute // watch your quotes!\r\n\t\t\t\t\t\"<div class='pull-right'>\" +\r\n\t\t\t\t\t\t\"<button id='\" + history[i].id + \"' class='update'><strong>U</strong></button>\" +\r\n\t\t\t\t\t\t\"<button id='\" + history[i].id + \"' class='remove'><strong>X</strong></button>\" +\r\n\t\t\t\t\t\"</div></li>\";\r\n\t\t\t\t}\r\n\t\t\t\t$(\"#history-list\").children().remove();\r\n\t\t\t\t$(\"#history-list\").append(lis);\r\n\t\t\t},\r\n\t\t\tcreate: function() {\r\n\t\t\t\tvar itsLog = { \r\n\t\t        \tdesc: $(\"#log-description\").val(),\r\n\t\t         \tresult: $(\"#log-result\").val(),\r\n\t\t         \tdef: $(\"#log-definition option:selected\").text()\r\n\t\t      \t};\r\n\t\t      \tvar postData = { log: itsLog };\r\n\t\t      \tconsole.table(postData)\r\n\t\t      \tvar logger = $.ajax({\r\n\t\t         \ttype: \"POST\",\r\n\t\t         \turl: WorkoutLog.API_BASE + \"log\",\r\n\t\t         \tdata: JSON.stringify(postData),\r\n\t\t         \tcontentType: \"application/json\"\r\n\t\t      \t});\r\n\r\n\t\t      \tlogger.done(function(data) {\r\n\t\t      \t\tconsole.log(data)\r\n\t      \t\t\tWorkoutLog.log.workouts.push(data);\r\n\t      \t\t\t$(\"#log-description\").val(\"\");\r\n\t\t\t\t\t$(\"#log-result\").val(\"\");\r\n\t\t\t\t\t$('a[href=\"#history\"]').tab(\"show\");\r\n\t\t      \t});\r\n\t\t\t},\r\n\r\n\t\t\tgetWorkout: function() {\r\n\t\t\t\tvar thisLog = {id: $(this).attr(\"id\")};\r\n\t\t\t\tconsole.log(thisLog);\r\n\t\t\t\tlogID = thisLog.id;\r\n\t\t\t\tvar updateData = { log: thisLog };\r\n\t\t\t\tvar getLog = $.ajax({\r\n\t\t\t\t\ttype: \"GET\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log/\" + logID,\r\n\t\t\t\t\tdata: JSON.stringify(updateData),\r\n\t\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t\t});\r\n\t\t\t\tgetLog.done(function(data){\r\n\t\t\t\t\t\r\n\t\t\t\t    $('a[href=\"#update-log\"]').tab(\"show\");\r\n\t\t\t\t\t$('#update-result').val(data.result);\r\n\t\t\t\t\t$('#update-description').val(data.description);\r\n\t\t\t\t\t$('#update-id').val(data.id);\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\r\n\t\t\tupdateWorkout: function() {\r\n\t\t\t\t$(\"#update\").text(\"Update\");\r\n\t\t\t\tvar updateLog = { \r\n\t\t\t\t\tid: $('#update-id').val(),\r\n\t\t\t\t\tdesc: $(\"#update-description\").val(),\r\n\t\t\t\t\t\tresult: $(\"#update-result\").val(),\r\n\t\t\t\t\t\tdef: $(\"#update-definition option:selected\").text()\r\n\t\t\t\t};\r\n\t\t\t\tfor(var i = 0; i < WorkoutLog.log.workouts.length; i++){\r\n\t\t\t\t\tif(WorkoutLog.log.workouts[i].id == updateLog.id){\r\n\t\t\t\t\t\tWorkoutLog.log.workouts.splice(i, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tWorkoutLog.log.workouts.push(updateLog);\r\n\t\t\t\tvar updateLogData = { log: updateLog };\r\n\t\t\t\tvar updater = $.ajax({\r\n\t\t\t\t\t\ttype: \"PUT\",\r\n\t\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\r\n\t\t\t\t\t\tdata: JSON.stringify(updateLogData),\r\n\t\t\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\tupdater.done(function(data) {\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t$(\"#update-description\").val(\"\");\r\n\t\t\t\t\t$(\"#update-result\").val(\"\");\r\n\t\t\t\t\t$('a[href=\"#history\"]').tab(\"show\");\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\r\n\r\n\t\t\tdelete: function(){\r\n\t\t\t\tvar thisLog = {\r\n\t\t\t\t\t// \"this\" is the button on the li\r\n\t\t\t//.attr(\"id\") targets the value of the id attribute of button\r\n\t\t\t\t\tid: $(this).attr(\"id\")\r\n\t\t\t\t};\r\n\t\t\t\tvar deleteData = { log: thisLog };\r\n\t\t\t\tvar deleteLog = $.ajax({\r\n\t\t\t\t\ttype: \"DELETE\",\r\n\t\t\t\t\turl: WorkoutLog.API_BASE + \"log\",\r\n\t\t\t\t\tdata: JSON.stringify(deleteData),\r\n\t\t\t\t\tcontentType: \"application/json\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// removes list item\r\n\t\t\t\t// references button then grabs closest li\r\n\t\t\t\t$(this).closest(\"li\").remove();\r\n\r\n\t\t\t\t// deletes item out of workouts array\r\n\t\t\t\tfor(var i = 0; i < WorkoutLog.log.workouts.length; i++){\r\n\t\t\t\t\tif(WorkoutLog.log.workouts[i].id == thisLog.id){\r\n\t\t\t\t\t\tWorkoutLog.log.workouts.splice(i, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdeleteLog.fail(function(){\r\n\t\t\t\t\tconsole.log(\"nope. you didn't delete it.\");\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// history\r\n\t\t\tfetchAll: function() {\r\n\t\t\t\tvar fetchDefs = $.ajax({\r\n\t\t\t         type: \"GET\",\r\n\t\t\t         url: WorkoutLog.API_BASE + \"log\",\r\n\t\t\t         headers: {\r\n\t\t\t         \t\"authorization\": window.localStorage.getItem(\"sessionToken\")\r\n\t\t\t         }\r\n\t\t\t      })\r\n\t\t\t      .done(function(data) {\r\n\t\t\t         WorkoutLog.log.workouts = data;\r\n\t\t\t      })\r\n\t\t\t      .fail(function(err) {\r\n\t\t\t         console.log(err);\r\n\t\t\t      });\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t$(\"#log-save\").on(\"click\", WorkoutLog.log.create);\r\n\t$(\"#history-list\").delegate('.remove', 'click', WorkoutLog.log.delete);\r\n\t$(\"#log-update\").on(\"click\", WorkoutLog.log.updateWorkout);\r\n\t$(\"#history-list\").delegate('.update', 'click', WorkoutLog.log.getWorkout);\r\n\r\n\r\n\t   // fetch history if we already are authenticated and refreshed\r\n   if (window.localStorage.getItem(\"sessionToken\")) {\r\n      WorkoutLog.log.fetchAll();\r\n   }\r\n});","$(function(){\r\n// $(function() {\r\n   $.extend(WorkoutLog, {\r\n      signup: function() {\r\n            var fname = $(\"#su_fname\").val();\r\n            var lname = $(\"#su_lname\").val();\r\n            var email = $(\"#su_email\").val();\r\n            var username = $(\"#su_username\").val();\r\n            var password = $(\"#su_password\").val();\r\n            var pic = $(\"#su_pic\").val();\r\n            var user = {user:  {fname: fname, lname: lname, email: email, username: username, password: password, pic: pic }};\r\n            var signup = $.ajax({\r\n               type: \"POST\", \r\n               url: WorkoutLog.API_BASE + \"user\", \r\n               data: JSON.stringify(user), \r\n               contentType: \"application/json\"\r\n            });\r\n            signup.done(function(data) {\r\n               if (data.sessionToken) {\r\n                  WorkoutLog.setAuthHeader(data.sessionToken);\r\n                  WorkoutLog.definition.fetchAll();\r\n                  WorkoutLog.log.fetchAll();\r\n               }\r\n               $(\"#signup-modal\").modal(\"hide\");\r\n               $(\".tib-tab\").removeClass(\"invisible\");\r\n               $(\"#loginout\").text(\"Logout\");\r\n               $(\".side-title-1\").text(\"Welcome Back!\");\r\n               $(\"#side-image\").removeClass(\"invisible\");\r\n               $(\"#sidebar-login-id\").addClass(\"invisible\");\r\n               $(\".side-title-2\").addClass(\"invisible\");\r\n               $(\"#signup-but\").addClass(\"invisible\");\r\n               // go to define tab\r\n               $('.nav-tabs a[href=\"#workoutnow\"]').tab('show');\r\n\r\n               $(\"#su_fname\").val(\"\");\r\n               $(\"#su_lname\").val(\"\");\r\n               $(\"#su_email\").val(\"\");\r\n               $(\"#su_username\").val(\"\");\r\n               $(\"#su_password\").val(\"\");\r\n               $(\"#su_pic\").val(\"\")\r\n            })\r\n            .fail(function() {\r\n               $(\"#su_error\").text(\"There was an issue with your username\").show();\r\n              \r\n            });\r\n      },\r\n\r\n      login: function() {\r\n         // var fname = $(\"#li_fname\").val();\r\n         // var lname = $(\"#li_lname\").val();\r\n         // var email = $(\"#li_email\").val();\r\n         var username = $(\"#li_username\").val();\r\n         var password = $(\"#li_password\").val();\r\n         var user = {user:  {username: username, password: password }};\r\n         var login = $.ajax({\r\n            type: \"POST\", \r\n            url: WorkoutLog.API_BASE + \"login\", \r\n            data: JSON.stringify(user), \r\n            contentType: \"application/json\"\r\n         });\r\n         login.done(function(data) {\r\n            if (data.sessionToken) {\r\n               WorkoutLog.setAuthHeader(data.sessionToken);\r\n               WorkoutLog.definition.fetchAll();\r\n               WorkoutLog.log.fetchAll();\r\n            }\r\n\r\n            var fileReader = new FileReader();\r\n            fileReader.onload = (function (event) {\r\n                var ab = data.user.pic;\r\n               console.log(ab);\r\n                var ua = new Uint8Array(ab.data); //blob\r\n\r\n                var binaryImg;\r\n                for (var i = 0; i < ua.length; i++) {\r\n                     binaryImg += String.fromCharCode(ua[i]);\r\n                }\r\n                var newImg ='';\r\n               for (var i = binaryImg.indexOf('C'); i < binaryImg.length; i++){\r\n                 newImg += binaryImg[i]\r\n               }\r\n               var test = new Blob ([newImg], {\r\n                  type: \"plain/jpg\"\r\n               })\r\n               fileReader.readAsDataURL(test);\r\n               //  var img64 = btoa(newImg);\r\n               // console.log(img64);\r\n               //  var image = new Image();\r\n               //  image.src = 'data:image/png;base64,' + img64;\r\n               // console.log(image.src);\r\n               //  // var img = document.getElementById('side-image');\r\n               //  // img.src = image.src;\r\n               //  $('#side-image').attr(\"src\", \"test\");\r\n            })();\r\n            // fileReader.readAsArrayBuffer(event.target.files[0]); //data.user.pic \r\n\r\n            // console.log(data.user.pic);\r\n            $(\"#login-modal\").modal(\"hide\");\r\n            $(\".tib-tab\").removeClass(\"invisible\");\r\n            $(\"#side-image\").attr(\"src\", data.user.pic);\r\n\r\n            $(\".side-title-1\").text(\"Welcome Back!\");\r\n            $(\"#side-image\").removeClass(\"invisible\");\r\n            $(\"#sidebar-login-id\").addClass(\"invisible\");\r\n            $(\".side-title-2\").addClass(\"invisible\");\r\n            $(\"#signup-but\").addClass(\"invisible\");\r\n\r\n            $(\"#loginout\").text(\"Logout\");\r\n            // $(\"#li_fname\").val(\"\");\r\n            // $(\"#li_lname\").val(\"\");\r\n            // $(\"#li_email\").val(\"\");\r\n            $(\"#li_username\").val(\"\");\r\n            $(\"#li_password\").val(\"\");\r\n\r\n\r\n            $('a[href=\"#workoutnow\"]').tab(\"show\");\r\n\r\n         })\r\n         .fail(function() {\r\n            $(\"#li_error\").text(\"There was an issue with your username or password\").show();\r\n            });\r\n      },\r\n\r\n      loginout: function() {\r\n         if (window.localStorage.getItem(\"sessionToken\")) {\r\n            window.localStorage.removeItem(\"sessionToken\");\r\n           window.location.reload(true);\r\n         }\r\n         $(\".side-title-1\").text(\"Already a Swole member?\")\r\n         $(\"#sidebar-login-id\").removeClass(\"invisible\");\r\n         $(\".side-title-2\").removeClass(\"invisible\");\r\n         $(\"#signup-but\").removeClass(\"invisible\");\r\n         $(\"#side-image\").addClass(\"invisible\");\r\n         $(\".tib-tab\").addClass(\"invisible\");\r\n\r\n      }\r\n   });\r\n\r\n   // bind events\r\n   $(\"#login\").on(\"click\", WorkoutLog.login);\r\n   $(\"#signup\").on(\"click\", WorkoutLog.signup);\r\n   $(\"#loginout\").on(\"click\", WorkoutLog.loginout);\r\n\r\n   if (window.localStorage.getItem(\"sessionToken\")) {\r\n      $(\"#loginout\").text(\"Logout\");\r\n   }\r\n\r\n});","window.onload = function () {\r\n  \r\n  var seconds = 00; \r\n  var tens = 00; \r\n  var minutes = 00;\r\n  var appendTens = document.getElementById(\"tens\")\r\n  var appendSeconds = document.getElementById(\"seconds\")\r\n  var appendMinutes = document.getElementById(\"minutes\")\r\n  var stopbutStart = document.getElementById('stopbut-start');\r\n  var stopbutStop = document.getElementById('stopbut-stop');\r\n  var stopbutReset = document.getElementById('stopbut-reset');\r\n  var Interval ;\r\n\r\n  stopbutStart.onclick = function() {\r\n    \r\n     clearInterval(Interval);\r\n     Interval = setInterval(startTimer, 10);\r\n  }\r\n  \r\n    stopbutStop.onclick = function() {\r\n       clearInterval(Interval);\r\n  }\r\n  \r\n\r\n  stopbutReset.onclick = function() {\r\n    clearInterval(Interval);\r\n    minutes = \"00\";\r\n    tens = \"00\";\r\n  \tseconds = \"00\";\r\n    appendTens.innerHTML = tens;\r\n  \tappendSeconds.innerHTML = seconds;\r\n    appendMinutes.innerHTML = minutes;\r\n  }\r\n  \r\n   \r\n  \r\n  function startTimer () {\r\n    tens++; \r\n    \r\n    if(tens < 9){\r\n      appendTens.innerHTML = \"0\" + tens;\r\n    }\r\n    \r\n    if (tens > 9){\r\n      appendTens.innerHTML = tens;\r\n      \r\n    } \r\n    \r\n    if (tens > 99) {\r\n      console.log(\"seconds\");\r\n      seconds++;\r\n      appendSeconds.innerHTML = \"0\" + seconds;\r\n      tens = 0;\r\n      appendTens.innerHTML = \"0\" + 0;\r\n    }\r\n    \r\n    if (seconds > 9){\r\n      appendSeconds.innerHTML = seconds;\r\n    }\r\n\r\n    if (seconds == 59) {\r\n      console.log(\"minutes\");\r\n      minutes++;\r\n      appendMinutes.innerHTML = \"0\" + minutes;\r\n      seconds = 0;\r\n      appendSeconds.innerHTML = \"0\";\r\n    }\r\n  \r\n  }\r\n  \r\n\r\n}"]}